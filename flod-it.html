<!doctype>
<html>
<head>
    <meta charset="utf-8">
    <style type="text/css">
        canvas#canvas {
            border: 1px solid black;}
        div#log {
            height: 8em;
            width: 100%;
            overflow: auto;}
    </style>

    <script type="text/javascript">
    /*<![CDATA[  */
        function vector (){
            this.x;
            this.y;
            this.size;
        }

        function $ (el){ return document.getElementById(el); }
        function log (msg) { $("log").innerHTML = msg + "<br>" + $("log").innerHTML; }

        var cores = ['#33FF00', '#6600FF', '#FFFF00', '#FF0000', '#66FFFF'];
        function rect(ctx, x, y, w, h, cor){
            ctx.fillStyle = cor;
            ctx.fillRect(x, y, w, h);
        }

        var blocks_array = [];
        var menu = [];
        var blocks = 10;
        var block_width = 50;

        window.onload = function() {
            log($("canvas").offsetTop + ", " + $("canvas").offsetLeft);
            var canvas = $("canvas");
            var ctx = canvas.getContext("2d");

            for(var i=0; i<blocks; i++){
                blocks_array[i] = [];
                for(var j=0; j<blocks; j++){
                    var cor = cores[Math.floor(Math.random()*cores.length)];
                    blocks_array[i][j] = cor;
                    rect(ctx, i*block_width, j*block_width, block_width, block_width, cor);
                }
            }

            for(var i=0; i<cores.length; i++){
                menu[i] = new vector();
                menu[i].x = 525;
                menu[i].y = (i*50)+((1+i)*10);
                menu[i].size = block_width;

                rect(ctx, 525, menu[i].y, block_width, block_width, cores[i]);
            }
        };

        function draw(){
        }

        function getClickCoord(e){
            var _x;
            var _y;

            _x = e.pageX;
            _y = e.pageY;
            
            var result = new vector();
            result.x = _x;
            result.y = _y;
            return result;
        }

        document.onmousedown = function(e){
            var click_coord = getClickCoord(e);
            log(click_coord.x + ", " + click_coord.y);
        }

    /* ]]>*/
    </script>
</head>

<body>
    <center>
    <canvas id="canvas" width="600" height="500"></canvas>
    </center>

    <div id="log"></div>
</body>
</html>
